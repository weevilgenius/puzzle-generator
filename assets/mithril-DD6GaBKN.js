function $r(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Re,Ye;function Y(){if(Ye)return Re;Ye=1;function s(a,o,h,f,y,w){return{tag:a,key:o,attrs:h,children:f,text:y,dom:w,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return s.normalize=function(a){return Array.isArray(a)?s("[",void 0,void 0,s.normalizeChildren(a),void 0,void 0):a==null||typeof a=="boolean"?null:typeof a=="object"?a:s("#",void 0,void 0,String(a),void 0,void 0)},s.normalizeChildren=function(a){var o=[];if(a.length){for(var h=a[0]!=null&&a[0].key!=null,f=1;f<a.length;f++)if((a[f]!=null&&a[f].key!=null)!==h)throw new TypeError(h&&(a[f]!=null||typeof a[f]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var f=0;f<a.length;f++)o[f]=s.normalize(a[f])}return o},Re=s,Re}var be,Ze;function qr(){if(Ze)return be;Ze=1;var s=Y();return be=function(){var a=arguments[this],o=this+1,h;if(a==null?a={}:(typeof a!="object"||a.tag!=null||Array.isArray(a))&&(a={},o=this),arguments.length===o+1)h=arguments[o],Array.isArray(h)||(h=[h]);else for(h=[];o<arguments.length;)h.push(arguments[o++]);return s("",a.key,a,h)},be}var qe,ke;function Ue(){return ke||(ke=1,qe={}.hasOwnProperty),qe}var de,er;function dr(){if(er)return de;er=1;var s=Y(),a=qr(),o=Ue(),h=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,f=Object.create(null);function y(p){for(var m in p)if(o.call(p,m))return!1;return!0}function w(p){for(var m,g="div",q=[],d={};m=h.exec(p);){var P=m[1],R=m[2];if(P===""&&R!=="")g=R;else if(P==="#")d.id=R;else if(P===".")q.push(R);else if(m[3][0]==="["){var N=m[6];N&&(N=N.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),m[4]==="class"?q.push(N):d[m[4]]=N===""?N:N||!0}}return q.length>0&&(d.className=q.join(" ")),y(d)&&(d=null),f[p]={tag:g,attrs:d}}function l(p,m){var g=m.attrs,q=o.call(g,"class"),d=q?g.class:g.className;return m.tag=p.tag,p.attrs!=null?(g=Object.assign({},p.attrs,g),(d!=null||p.attrs.className!=null)&&(g.className=d!=null?p.attrs.className!=null?String(p.attrs.className)+" "+String(d):d:p.attrs.className!=null?p.attrs.className:null)):d!=null&&(g.className=d),q&&(g.class=null),p.tag==="input"&&o.call(g,"type")&&(g=Object.assign({type:g.type},g)),m.is=g.is,m.attrs=g,m}function u(p){if(p==null||typeof p!="string"&&typeof p!="function"&&typeof p.view!="function")throw Error("The selector must be either a string or a component.");var m=a.apply(1,arguments);return typeof p=="string"&&(m.children=s.normalizeChildren(m.children),p!=="[")?l(f[p]||w(p),m):(m.tag=p,m)}return de=u,de}var Oe,rr;function Dr(){if(rr)return Oe;rr=1;var s=Y();return Oe=function(a){return a==null&&(a=""),s("<",void 0,void 0,a,void 0,void 0)},Oe}var Ce,tr;function Fr(){if(tr)return Ce;tr=1;var s=Y(),a=qr();return Ce=function(){var o=a.apply(0,arguments);return o.tag="[",o.children=s.normalizeChildren(o.children),o},Ce}var Te,nr;function Lr(){if(nr)return Te;nr=1;var s=dr();return s.trust=Dr(),s.fragment=Fr(),Te=s,Te}var ve,ir;function Or(){if(ir)return ve;ir=1;var s=new WeakMap;function*a(o){var h=o.dom,f=o.domSize,y=s.get(h);if(h!=null)do{var w=h.nextSibling;s.get(h)===y&&(yield h,f--),h=w}while(f)}return ve={delayedRemoval:s,domFor:a},ve}var ze,ar;function Hr(){if(ar)return ze;ar=1;var s=Y(),a=Or(),o=a.delayedRemoval,h=a.domFor;return ze=function(){var f={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},y,w;function l(r){return r.ownerDocument}function u(r){return r.attrs&&r.attrs.xmlns||f[r.tag]}function p(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function m(r){var e=r.state;try{return this.apply(e,arguments)}finally{p(r,e)}}function g(r){try{return l(r).activeElement}catch{return null}}function q(r,e,t,n,i,c,C){for(var T=t;T<n;T++){var b=e[T];b!=null&&d(r,b,i,C,c)}}function d(r,e,t,n,i){var c=e.tag;if(typeof c=="string")switch(e.state={},e.attrs!=null&&se(e.attrs,e,t),c){case"#":P(r,e,i);break;case"<":N(r,e,n,i);break;case"[":B(r,e,t,n,i);break;default:W(r,e,t,n,i)}else ee(r,e,t,n,i)}function P(r,e,t){e.dom=l(r).createTextNode(e.children),_(r,e.dom,t)}var R={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function N(r,e,t,n){var i=e.children.match(/^\s*?<(\w+)/im)||[],c=l(r).createElement(R[i[1]]||"div");t==="http://www.w3.org/2000/svg"?(c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",c=c.firstChild):c.innerHTML=e.children,e.dom=c.firstChild,e.domSize=c.childNodes.length;for(var C=l(r).createDocumentFragment(),T;T=c.firstChild;)C.appendChild(T);_(r,C,n)}function B(r,e,t,n,i){var c=l(r).createDocumentFragment();if(e.children!=null){var C=e.children;q(c,C,0,C.length,t,null,n)}e.dom=c.firstChild,e.domSize=c.childNodes.length,_(r,c,i)}function W(r,e,t,n,i){var c=e.tag,C=e.attrs,T=e.is;n=u(e)||n;var b=n?T?l(r).createElementNS(n,c,{is:T}):l(r).createElementNS(n,c):T?l(r).createElement(c,{is:T}):l(r).createElement(c);if(e.dom=b,C!=null&&Ar(e,C,n),_(r,b,i),!ie(e)&&e.children!=null){var z=e.children;q(b,z,0,z.length,t,null,n),e.tag==="select"&&C!=null&&Nr(e,C)}}function K(r,e){var t;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),t=r.state.view,t.$$reentrantLock$$!=null)return;t.$$reentrantLock$$=!0}else{if(r.state=void 0,t=r.tag,t.$$reentrantLock$$!=null)return;t.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(se(r.state,r,e),r.attrs!=null&&se(r.attrs,r,e),r.instance=s.normalize(m.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");t.$$reentrantLock$$=null}function ee(r,e,t,n,i){K(e,t),e.instance!=null?(d(r,e.instance,t,n,i),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function Q(r,e,t,n,i,c){if(!(e===t||e==null&&t==null))if(e==null||e.length===0)q(r,t,0,t.length,n,i,c);else if(t==null||t.length===0)Z(r,e,0,e.length);else{var C=e[0]!=null&&e[0].key!=null,T=t[0]!=null&&t[0].key!=null,b=0,z=0;if(!C)for(;z<e.length&&e[z]==null;)z++;if(!T)for(;b<t.length&&t[b]==null;)b++;if(C!==T)Z(r,e,z,e.length),q(r,t,b,t.length,n,i,c);else if(T){for(var S=e.length-1,H=t.length-1,fe,V,L,U,M,he;S>=z&&H>=b&&(U=e[S],M=t[H],U.key===M.key);)U!==M&&x(r,U,M,n,i,c),M.dom!=null&&(i=M.dom),S--,H--;for(;S>=z&&H>=b&&(V=e[z],L=t[b],V.key===L.key);)z++,b++,V!==L&&x(r,V,L,n,$(e,z,i),c);for(;S>=z&&H>=b&&!(b===H||V.key!==M.key||U.key!==L.key);)he=$(e,z,i),E(r,U,he),U!==L&&x(r,U,L,n,he,c),++b<=--H&&E(r,V,i),V!==M&&x(r,V,M,n,i,c),M.dom!=null&&(i=M.dom),z++,S--,U=e[S],M=t[H],V=e[z],L=t[b];for(;S>=z&&H>=b&&U.key===M.key;)U!==M&&x(r,U,M,n,i,c),M.dom!=null&&(i=M.dom),S--,H--,U=e[S],M=t[H];if(b>H)Z(r,e,z,S+1);else if(z>S)q(r,t,b,H+1,n,i,c);else{var Mr=i,Xe=H-b+1,ne=new Array(Xe),pe=0,D=0,ye=2147483647,ge=0,fe,we;for(D=0;D<Xe;D++)ne[D]=-1;for(D=H;D>=b;D--){fe==null&&(fe=v(e,z,S+1)),M=t[D];var re=fe[M.key];re!=null&&(ye=re<ye?re:-1,ne[D-b]=re,U=e[re],e[re]=null,U!==M&&x(r,U,M,n,i,c),M.dom!=null&&(i=M.dom),ge++)}if(i=Mr,ge!==S-z+1&&Z(r,e,z,S+1),ge===0)q(r,t,b,H+1,n,i,c);else if(ye===-1)for(we=I(ne),pe=we.length-1,D=H;D>=b;D--)L=t[D],ne[D-b]===-1?d(r,L,n,c,i):we[pe]===D-b?pe--:E(r,L,i),L.dom!=null&&(i=t[D].dom);else for(D=H;D>=b;D--)L=t[D],ne[D-b]===-1&&d(r,L,n,c,i),L.dom!=null&&(i=t[D].dom)}}else{var me=e.length<t.length?e.length:t.length;for(b=b<z?b:z;b<me;b++)V=e[b],L=t[b],!(V===L||V==null&&L==null)&&(V==null?d(r,L,n,c,$(e,b+1,i)):L==null?ae(r,V):x(r,V,L,n,$(e,b+1,i),c));e.length>me&&Z(r,e,b,e.length),t.length>me&&q(r,t,b,t.length,n,i,c)}}}function x(r,e,t,n,i,c){var C=e.tag,T=t.tag;if(C===T&&e.is===t.is){if(t.state=e.state,t.events=e.events,jr(t,e))return;if(typeof C=="string")switch(t.attrs!=null&&oe(t.attrs,t,n),C){case"#":J(e,t);break;case"<":F(r,e,t,c,i);break;case"[":G(r,e,t,n,i,c);break;default:j(e,t,n,c)}else O(r,e,t,n,i,c)}else ae(r,e),d(r,t,n,c,i)}function J(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function F(r,e,t,n,i){e.children!==t.children?(Qe(r,e),N(r,t,n,i)):(t.dom=e.dom,t.domSize=e.domSize)}function G(r,e,t,n,i,c){Q(r,e.children,t.children,n,i,c);var C=0,T=t.children;if(t.dom=null,T!=null){for(var b=0;b<T.length;b++){var z=T[b];z!=null&&z.dom!=null&&(t.dom==null&&(t.dom=z.dom),C+=z.domSize||1)}C!==1&&(t.domSize=C)}}function j(r,e,t,n){var i=e.dom=r.dom;n=u(e)||n,Pr(e,r.attrs,e.attrs,n),ie(e)||Q(i,r.children,e.children,t,null,n)}function O(r,e,t,n,i,c){if(t.instance=s.normalize(m.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");oe(t.state,t,n),t.attrs!=null&&oe(t.attrs,t,n),t.instance!=null?(e.instance==null?d(r,t.instance,n,c,i):x(r,e.instance,t.instance,n,i,c),t.dom=t.instance.dom,t.domSize=t.instance.domSize):e.instance!=null?(ae(r,e.instance),t.dom=void 0,t.domSize=0):(t.dom=e.dom,t.domSize=e.domSize)}function v(r,e,t){for(var n=Object.create(null);e<t;e++){var i=r[e];if(i!=null){var c=i.key;c!=null&&(n[c]=e)}}return n}var A=[];function I(r){for(var e=[0],t=0,n=0,i=0,c=A.length=r.length,i=0;i<c;i++)A[i]=r[i];for(var i=0;i<c;++i)if(r[i]!==-1){var C=e[e.length-1];if(r[C]<r[i]){A[i]=C,e.push(i);continue}for(t=0,n=e.length-1;t<n;){var T=(t>>>1)+(n>>>1)+(t&n&1);r[e[T]]<r[i]?t=T+1:n=T}r[i]<r[e[t]]&&(t>0&&(A[i]=e[t-1]),e[t]=i)}for(t=e.length,n=e[t-1];t-- >0;)e[t]=n,n=A[n];return A.length=0,e}function $(r,e,t){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return t}function E(r,e,t){if(e.dom!=null){var n;if(e.domSize==null)n=e.dom;else{n=l(r).createDocumentFragment();for(var i of h(e))n.appendChild(i)}_(r,n,t)}}function _(r,e,t){t!=null?r.insertBefore(e,t):r.appendChild(e)}function ie(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var t=e[0].children;r.dom.innerHTML!==t&&(r.dom.innerHTML=t)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function Z(r,e,t,n){for(var i=t;i<n;i++){var c=e[i];c!=null&&ae(r,c)}}function k(r,e,t,n){var i=e.state,c=m.call(t.onbeforeremove,e);if(c!=null){var C=w;for(var T of h(e))o.set(T,C);n.v++,Promise.resolve(c).finally(function(){p(e,i),X(r,e,n)})}}function X(r,e,t){--t.v===0&&(ue(e),Qe(r,e))}function ae(r,e){var t={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&k(r,e,e.state,t),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&k(r,e,e.attrs,t),X(r,e,t)}function Qe(r,e){if(e.dom!=null)if(e.domSize==null)r.removeChild(e.dom);else for(var t of h(e))r.removeChild(t)}function ue(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&m.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&m.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&ue(r.instance);else{r.events!=null&&(r.events._=null);var e=r.children;if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];n!=null&&ue(n)}}}function Ar(r,e,t){for(var n in e)le(r,n,null,e[n],t)}function le(r,e,t,n,i){if(!(e==="key"||n==null||Ke(e)||t===n&&!xr(r,e)&&typeof n!="object")){if(e[0]==="o"&&e[1]==="n")return We(r,e,n);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),n);else if(e==="style")Ge(r.dom,t,n);else if(Je(r,e,i)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+n||r.tag==="select"&&t!==null&&r.dom.value===""+n||r.tag==="option"&&t!==null&&r.dom.value===""+n)return;if(r.tag==="input"&&r.attrs.type==="file"&&""+n!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&e==="type"?r.dom.setAttribute(e,n):r.dom[e]=n}else typeof n=="boolean"?n?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,n)}}function Er(r,e,t,n){if(!(e==="key"||t==null||Ke(e)))if(e[0]==="o"&&e[1]==="n")We(r,e,void 0);else if(e==="style")Ge(r.dom,t,null);else if(Je(r,e,n)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===g(r.dom)))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var i=e.indexOf(":");i!==-1&&(e=e.slice(i+1)),t!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function Nr(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var t=""+e.value;(r.dom.value!==t||r.dom.selectedIndex===-1)&&(r.dom.value=t)}"selectedIndex"in e&&le(r,"selectedIndex",null,e.selectedIndex,void 0)}function Pr(r,e,t,n){var i;if(e!=null){e===t&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var c in e)(i=e[c])!=null&&(t==null||t[c]==null)&&Er(r,c,i,n)}if(t!=null)for(var c in t)le(r,c,e&&e[c],t[c],n)}function xr(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(r.dom===g(r.dom)||r.tag==="option"&&r.dom.parentNode===g(r.dom))}function Ke(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Je(r,e,t){return t===void 0&&(r.tag.indexOf("-")>-1||r.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}function Ge(r,e,t){if(e!==t)if(t==null)r.style="";else if(typeof t!="object")r.style=t;else if(e==null||typeof e!="object"){r.style="";for(var n in t){var i=t[n];i!=null&&(n.includes("-")?r.style.setProperty(n,String(i)):r.style[n]=String(i))}}else{for(var n in e)e[n]!=null&&t[n]==null&&(n.includes("-")?r.style.removeProperty(n):r.style[n]="");for(var n in t){var i=t[n];i!=null&&(i=String(i))!==String(e[n])&&(n.includes("-")?r.style.setProperty(n,i):r.style[n]=i)}}}function ce(){this._=y}ce.prototype=Object.create(null),ce.prototype.handleEvent=function(r){var e=this["on"+r.type],t;typeof e=="function"?t=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r);var n=this;n._!=null&&(r.redraw!==!1&&(0,n._)(),t!=null&&typeof t.then=="function"&&Promise.resolve(t).then(function(){n._!=null&&r.redraw!==!1&&(0,n._)()})),t===!1&&(r.preventDefault(),r.stopPropagation())};function We(r,e,t){if(r.events!=null){if(r.events._=y,r.events[e]===t)return;t!=null&&(typeof t=="function"||typeof t=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=t):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else t!=null&&(typeof t=="function"||typeof t=="object")&&(r.events=new ce,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=t)}function se(r,e,t){typeof r.oninit=="function"&&m.call(r.oninit,e),typeof r.oncreate=="function"&&t.push(m.bind(r.oncreate,e))}function oe(r,e,t){typeof r.onupdate=="function"&&t.push(m.bind(r.onupdate,e))}function jr(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var t=m.call(r.attrs.onbeforeupdate,r,e);if(t!==void 0&&!t)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var t=m.call(r.state.onbeforeupdate,r,e);if(t!==void 0&&!t)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var te;return function(r,e,t){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(te!=null&&r.contains(te))throw new TypeError("Node is currently being rendered to and thus is locked.");var n=y,i=te,c=[],C=g(r),T=r.namespaceURI;te=r,y=typeof t=="function"?t:void 0,w={};try{r.vnodes==null&&(r.textContent=""),e=s.normalizeChildren(Array.isArray(e)?e:[e]),Q(r,r.vnodes,e,c,null,T==="http://www.w3.org/1999/xhtml"?void 0:T),r.vnodes=e,C!=null&&g(r)!==C&&typeof C.focus=="function"&&C.focus();for(var b=0;b<c.length;b++)c[b]()}finally{y=n,te=i}}},ze}var Ae,fr;function Cr(){return fr||(fr=1,Ae=Hr()(typeof window<"u"?window:null)),Ae}var Ee,ur;function _r(){if(ur)return Ee;ur=1;var s=Y();return Ee=function(a,o,h){var f=[],y=!1,w=-1;function l(){for(w=0;w<f.length;w+=2)try{a(f[w],s(f[w+1]),u)}catch(m){h.error(m)}w=-1}function u(){y||(y=!0,o(function(){y=!1,l()}))}u.sync=l;function p(m,g){if(g!=null&&g.view==null&&typeof g!="function")throw new TypeError("m.mount expects a component, not a vnode.");var q=f.indexOf(m);q>=0&&(f.splice(q,2),q<=w&&(w-=2),a(m,[])),g!=null&&(f.push(m,g),a(m,s(g),u))}return{mount:p,redraw:u}},Ee}var Ne,lr;function Se(){if(lr)return Ne;lr=1;var s=Cr();return Ne=_r()(s,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Ne}var Pe,cr;function Tr(){return cr||(cr=1,Pe=function(s){if(Object.prototype.toString.call(s)!=="[object Object]")return"";var a=[];for(var o in s)h(o,s[o]);return a.join("&");function h(f,y){if(Array.isArray(y))for(var w=0;w<y.length;w++)h(f+"["+w+"]",y[w]);else if(Object.prototype.toString.call(y)==="[object Object]")for(var w in y)h(f+"["+w+"]",y[w]);else a.push(encodeURIComponent(f)+(y!=null&&y!==""?"="+encodeURIComponent(y):""))}}),Pe}var xe,sr;function Ve(){if(sr)return xe;sr=1;var s=Tr();return xe=function(a,o){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(o==null)return a;var h=a.indexOf("?"),f=a.indexOf("#"),y=f<0?a.length:f,w=h<0?y:h,l=a.slice(0,w),u={};Object.assign(u,o);var p=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(N,B,W){return delete u[B],o[B]==null?N:W?o[B]:encodeURIComponent(String(o[B]))}),m=p.indexOf("?"),g=p.indexOf("#"),q=g<0?p.length:g,d=m<0?q:m,P=p.slice(0,d);h>=0&&(P+=a.slice(h,y)),m>=0&&(P+=(h<0?"?":"&")+p.slice(m,q));var R=s(u);return R&&(P+=(h<0&&m<0?"?":"&")+R),f>=0&&(P+=a.slice(f)),g>=0&&(P+=(f<0?"":"&")+p.slice(g)),P},xe}var je,or;function Ir(){if(or)return je;or=1;var s=Ve(),a=Ue();return je=function(o,h){function f(l){return new Promise(l)}function y(l,u){return new Promise(function(p,m){l=s(l,u.params);var g=u.method!=null?u.method.toUpperCase():"GET",q=u.body,d=(u.serialize==null||u.serialize===JSON.serialize)&&!(q instanceof o.FormData||q instanceof o.URLSearchParams),P=u.responseType||(typeof u.extract=="function"?"":"json"),R=new o.XMLHttpRequest,N=!1,B=!1,W=R,K,ee=R.abort;R.abort=function(){N=!0,ee.call(this)},R.open(g,l,u.async!==!1,typeof u.user=="string"?u.user:void 0,typeof u.password=="string"?u.password:void 0),d&&q!=null&&!w(u,"content-type")&&R.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof u.deserialize!="function"&&!w(u,"accept")&&R.setRequestHeader("Accept","application/json, text/*"),u.withCredentials&&(R.withCredentials=u.withCredentials),u.timeout&&(R.timeout=u.timeout),R.responseType=P;for(var Q in u.headers)a.call(u.headers,Q)&&R.setRequestHeader(Q,u.headers[Q]);R.onreadystatechange=function(x){if(!N&&x.target.readyState===4)try{var J=x.target.status>=200&&x.target.status<300||x.target.status===304||/^file:\/\//i.test(l),F=x.target.response,G;if(P==="json"){if(!x.target.responseType&&typeof u.extract!="function")try{F=JSON.parse(x.target.responseText)}catch{F=null}}else(!P||P==="text")&&F==null&&(F=x.target.responseText);if(typeof u.extract=="function"?(F=u.extract(x.target,u),J=!0):typeof u.deserialize=="function"&&(F=u.deserialize(F)),J){if(typeof u.type=="function")if(Array.isArray(F))for(var j=0;j<F.length;j++)F[j]=new u.type(F[j]);else F=new u.type(F);p(F)}else{var O=function(){try{G=x.target.responseText}catch{G=F}var v=new Error(G);v.code=x.target.status,v.response=F,m(v)};R.status===0?setTimeout(function(){B||O()}):O()}}catch(v){m(v)}},R.ontimeout=function(x){B=!0;var J=new Error("Request timed out");J.code=x.target.status,m(J)},typeof u.config=="function"&&(R=u.config(R,u,l)||R,R!==W&&(K=R.abort,R.abort=function(){N=!0,K.call(this)})),q==null?R.send():typeof u.serialize=="function"?R.send(u.serialize(q)):q instanceof o.FormData||q instanceof o.URLSearchParams?R.send(q):R.send(JSON.stringify(q))})}f.prototype=Promise.prototype,f.__proto__=Promise;function w(l,u){for(var p in l.headers)if(a.call(l.headers,p)&&p.toLowerCase()===u)return!0;return!1}return{request:function(l,u){typeof l!="string"?(u=l,l=l.url):u==null&&(u={});var p=y(l,u);if(u.background===!0)return p;var m=0;function g(){--m===0&&typeof h=="function"&&h()}return q(p);function q(d){var P=d.then;return d.constructor=f,d.then=function(){m++;var R=P.apply(d,arguments);return R.then(g,function(N){if(g(),m===0)throw N}),q(R)},d}}}},je}var Me,mr;function Ur(){if(mr)return Me;mr=1;var s=Se();return Me=Ir()(typeof window<"u"?window:null,s.redraw),Me}var $e,hr;function vr(){if(hr)return $e;hr=1;function s(a){try{return decodeURIComponent(a)}catch{return a}}return $e=function(a){if(a===""||a==null)return{};a.charAt(0)==="?"&&(a=a.slice(1));for(var o=a.split("&"),h={},f={},y=0;y<o.length;y++){var w=o[y].split("="),l=s(w[0]),u=w.length===2?s(w[1]):"";u==="true"?u=!0:u==="false"&&(u=!1);var p=l.split(/\]\[?|\[/),m=f;l.indexOf("[")>-1&&p.pop();for(var g=0;g<p.length;g++){var q=p[g],d=p[g+1],P=d==""||!isNaN(parseInt(d,10));if(q===""){var l=p.slice(0,g).join();h[l]==null&&(h[l]=Array.isArray(m)?m.length:0),q=h[l]++}else if(q==="__proto__")break;if(g===p.length-1)m[q]=u;else{var R=Object.getOwnPropertyDescriptor(m,q);R!=null&&(R=R.value),R==null&&(m[q]=R=P?[]:{}),m=R}}}return f},$e}var De,pr;function Be(){if(pr)return De;pr=1;var s=vr();return De=function(a){var o=a.indexOf("?"),h=a.indexOf("#"),f=h<0?a.length:h,y=o<0?f:o,w=a.slice(0,y).replace(/\/{2,}/g,"/");return w?w[0]!=="/"&&(w="/"+w):w="/",{path:w,params:o<0?{}:s(a.slice(o+1,f))}},De}var Fe,yr;function Sr(){if(yr)return Fe;yr=1;var s=Be();return Fe=function(a){var o=s(a),h=Object.keys(o.params),f=[],y=new RegExp("^"+o.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(w,l,u){return l==null?"\\"+w:(f.push({k:l,r:u==="..."}),u==="..."?"(.*)":u==="."?"([^/]+)\\.":"([^/]+)"+(u||""))})+"\\/?$");return function(w){for(var l=0;l<h.length;l++)if(o.params[h[l]]!==w.params[h[l]])return!1;if(!f.length)return y.test(w.path);var u=y.exec(w.path);if(u==null)return!1;for(var l=0;l<f.length;l++)w.params[f[l].k]=f[l].r?u[l+1]:decodeURIComponent(u[l+1]);return!0}},Fe}var Le,gr;function zr(){if(gr)return Le;gr=1;var s=Ue(),a=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Le=function(o,h){var f={};if(h!=null)for(var y in o)s.call(o,y)&&!a.test(y)&&h.indexOf(y)<0&&(f[y]=o[y]);else for(var y in o)s.call(o,y)&&!a.test(y)&&(f[y]=o[y]);return f},Le}var He,wr;function Vr(){if(wr)return He;wr=1;var s=Y(),a=dr(),o=Ve(),h=Be(),f=Sr(),y=zr();function w(l){try{return decodeURIComponent(l)}catch{return l}}return He=function(l,u){var p=l==null?null:typeof l.setImmediate=="function"?l.setImmediate:l.setTimeout,m=Promise.resolve(),g=!1,q=!1,d=!1,P,R,N,B,W,K,ee,Q,x={onremove:function(){q=d=!1,l.removeEventListener("popstate",G,!1)},view:function(){var O=s(W,K.key,K);return B?B.render(O):[O]}},J=j.SKIP={};function F(){g=!1;var O=l.location.hash;j.prefix[0]!=="#"&&(O=l.location.search+O,j.prefix[0]!=="?"&&(O=l.location.pathname+O,O[0]!=="/"&&(O="/"+O)));var v=O.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,w).slice(j.prefix.length),A=h(v);Object.assign(A.params,l.history.state);function I(E){console.error(E),j.set(N,null,{replace:!0})}$(0);function $(E){for(;E<R.length;E++)if(R[E].check(A)){var _=R[E].component,ie=R[E].route,Z=_,k=Q=function(X){if(k===Q){if(X===J)return $(E+1);W=X!=null&&(typeof X.view=="function"||typeof X=="function")?X:"div",K=A.params,ee=v,Q=null,B=_.render?_:null,d?u.redraw():(d=!0,u.mount(P,x))}};_.view||typeof _=="function"?(_={},k(Z)):_.onmatch?m.then(function(){return _.onmatch(A.params,v,ie)}).then(k,v===N?null:I):k();return}if(v===N)throw new Error("Could not resolve default route "+N+".");j.set(N,null,{replace:!0})}}function G(){g||(g=!0,p(F))}function j(O,v,A){if(!O)throw new TypeError("DOM element being rendered to does not exist.");if(R=Object.keys(A).map(function($){if($[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test($))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:$,component:A[$],check:f($)}}),N=v,v!=null){var I=h(v);if(!R.some(function($){return $.check(I)}))throw new ReferenceError("Default route doesn't match any known routes.")}P=O,l.addEventListener("popstate",G,!1),q=!0,F()}return j.set=function(O,v,A){if(Q!=null&&(A=A||{},A.replace=!0),Q=null,O=o(O,v),q){G();var I=A?A.state:null,$=A?A.title:null;A&&A.replace?l.history.replaceState(I,$,j.prefix+O):l.history.pushState(I,$,j.prefix+O)}else l.location.href=j.prefix+O},j.get=function(){return ee},j.prefix="#!",j.Link={view:function(O){var v=a(O.attrs.selector||"a",y(O.attrs,["options","params","selector","onclick"]),O.children),A,I,$;return(v.attrs.disabled=!!v.attrs.disabled)?(v.attrs.href=null,v.attrs["aria-disabled"]="true"):(A=O.attrs.options,I=O.attrs.onclick,$=o(v.attrs.href,O.attrs.params),v.attrs.href=j.prefix+$,v.attrs.onclick=function(E){var _;typeof I=="function"?_=I.call(E.currentTarget,E):I==null||typeof I!="object"||typeof I.handleEvent=="function"&&I.handleEvent(E),_!==!1&&!E.defaultPrevented&&(E.button===0||E.which===0||E.which===1)&&(!E.currentTarget.target||E.currentTarget.target==="_self")&&!E.ctrlKey&&!E.metaKey&&!E.shiftKey&&!E.altKey&&(E.preventDefault(),E.redraw=!1,j.set($,null,A))}),v}},j.param=function(O){return K&&O!=null?K[O]:K},j},He}var _e,Rr;function Br(){if(Rr)return _e;Rr=1;var s=Se();return _e=Vr()(typeof window<"u"?window:null,s),_e}var Ie,br;function Qr(){if(br)return Ie;br=1;var s=Lr(),a=Ur(),o=Se(),h=Or(),f=function(){return s.apply(this,arguments)};return f.m=s,f.trust=s.trust,f.fragment=s.fragment,f.Fragment="[",f.mount=o.mount,f.route=Br(),f.render=Cr(),f.redraw=o.redraw,f.request=a.request,f.parseQueryString=vr(),f.buildQueryString=Tr(),f.parsePathname=Be(),f.buildPathname=Ve(),f.vnode=Y(),f.censor=zr(),f.domFor=h.domFor,Ie=f,Ie}var Kr=Qr();const Jr=$r(Kr);export{$r as g,Jr as m};
//# sourceMappingURL=mithril-DD6GaBKN.js.map
