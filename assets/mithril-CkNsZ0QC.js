function Qr(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}function at(f){if(Object.prototype.hasOwnProperty.call(f,"__esModule"))return f;var a=f.default;if(typeof a=="function"){var c=function h(){var u=!1;try{u=this instanceof h}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};c.prototype=a.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(f).forEach(function(h){var u=Object.getOwnPropertyDescriptor(f,h);Object.defineProperty(c,h,u.get?u:{enumerable:!0,get:function(){return f[h]}})}),c}var we,rr;function Z(){if(rr)return we;rr=1;function f(a,c,h,u,y,g){return{tag:a,key:c,attrs:h,children:u,text:y,dom:g,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return f.normalize=function(a){return Array.isArray(a)?f("[",void 0,void 0,f.normalizeChildren(a),void 0,void 0):a==null||typeof a=="boolean"?null:typeof a=="object"?a:f("#",void 0,void 0,String(a),void 0,void 0)},f.normalizeChildren=function(a){for(var c=new Array(a.length),h=0,u=0;u<a.length;u++)c[u]=f.normalize(a[u]),c[u]!==null&&c[u].key!=null&&h++;if(h!==0&&h!==a.length)throw new TypeError(c.includes(null)?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");return c},we=f,we}var be,tr;function Tr(){if(tr)return be;tr=1;var f=Z();return be=function(a,c){return a==null||typeof a=="object"&&a.tag==null&&!Array.isArray(a)?c.length===1&&Array.isArray(c[0])&&(c=c[0]):(c=c.length===0&&Array.isArray(a)?a:[a,...c],a=void 0),f("",a&&a.key,a,c)},be}var Re,ir;function Be(){return ir||(ir=1,Re={}.hasOwnProperty),Re}var qe,nr;function zr(){return nr||(nr=1,qe={}),qe}var de,ar;function Mr(){if(ar)return de;ar=1;var f=zr();return de=new Map([[f,!0]]),de}var Oe,ur;function Nr(){if(ur)return Oe;ur=1;var f=Z(),a=Tr(),c=Be(),h=zr(),u=Mr(),y=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,g=Object.create(null);function m(o){for(var R in o)if(c.call(o,R))return!1;return!0}function l(o){return o==="value"||o==="checked"||o==="selectedIndex"||o==="selected"}function v(o){for(var R,b="div",p=[],j={},V=!0;R=y.exec(o);){var H=R[1],J=R[2];if(H===""&&J!=="")b=J;else if(H==="#")j.id=J;else if(H===".")p.push(J);else if(R[3][0]==="["){var F=R[6];F&&(F=F.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),R[4]==="class"?p.push(F):(j[R[4]]=F===""?F:F||!0,l(R[4])&&(V=!1))}}return p.length>0&&(j.className=p.join(" ")),m(j)?j=h:u.set(j,V),g[o]={tag:b,attrs:j,is:j.is}}function q(o,R){R.tag=o.tag;var b=R.attrs;if(b==null)return R.attrs=o.attrs,R.is=o.is,R;if(c.call(b,"class")&&(b.class!=null&&(b.className=b.class),b.class=null),o.attrs!==h){var p=b.className;b=Object.assign({},o.attrs,b),o.attrs.className!=null&&(b.className=p!=null?String(o.attrs.className)+" "+String(p):o.attrs.className)}return o.tag==="input"&&c.call(b,"type")&&(b=Object.assign({type:b.type},b)),R.is=b.is,R.attrs=b,R}function O(o,R,...b){if(o==null||typeof o!="string"&&typeof o!="function"&&typeof o.view!="function")throw Error("The selector must be either a string or a component.");var p=a(R,b);return typeof o=="string"&&(p.children=f.normalizeChildren(p.children),o!=="[")?q(g[o]||v(o),p):(p.attrs==null&&(p.attrs={}),p.tag=o,p)}return Oe=O,Oe}var Ae,fr;function Jr(){if(fr)return Ae;fr=1;var f=Z();return Ae=function(a){return a==null&&(a=""),f("<",void 0,void 0,a,void 0,void 0)},Ae}var ve,lr;function Gr(){if(lr)return ve;lr=1;var f=Z(),a=Tr();return ve=function(c,...h){var u=a(c,h);return u.attrs==null&&(u.attrs={}),u.tag="[",u.children=f.normalizeChildren(u.children),u},ve}var Ce,cr;function Wr(){if(cr)return Ce;cr=1;var f=Nr();return f.trust=Jr(),f.fragment=Gr(),Ce=f,Ce}var Ee,sr;function jr(){return sr||(sr=1,Ee=new WeakMap),Ee}var Pe,or;function xr(){if(or)return Pe;or=1;var f=jr();function*a(c){var h=c.dom,u=c.domSize,y=f.get(h);if(h!=null)do{var g=h.nextSibling;f.get(h)===y&&(yield h,u--),h=g}while(u)}return Pe=a,Pe}var Te,mr;function Xr(){if(mr)return Te;mr=1;var f=Z(),a=jr(),c=xr(),h=Mr();return Te=function(){var u={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},y,g;function m(r){return r.ownerDocument}function l(r){return r.attrs&&r.attrs.xmlns||u[r.tag]}function v(r,e){if(r.state!==e)throw new Error("'vnode.state' must not be modified.")}function q(r){var e=r.state;try{return this.apply(e,arguments)}finally{v(r,e)}}function O(r){try{return m(r).activeElement}catch{return null}}function o(r,e,t,i,n,s,A){for(var C=t;C<i;C++){var w=e[C];w!=null&&R(r,w,n,A,s)}}function R(r,e,t,i,n){var s=e.tag;if(typeof s=="string")switch(e.state={},e.attrs!=null&&ce(e.attrs,e,t),s){case"#":b(r,e,n);break;case"<":j(r,e,i,n);break;case"[":V(r,e,t,i,n);break;default:H(r,e,t,i,n)}else F(r,e,t,i,n)}function b(r,e,t){e.dom=m(r).createTextNode(e.children),k(r,e.dom,t)}var p={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function j(r,e,t,i){var n=e.children.match(/^\s*?<(\w+)/im)||[],s=m(r).createElement(p[n[1]]||"div");t==="http://www.w3.org/2000/svg"?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",s=s.firstChild):s.innerHTML=e.children,e.dom=s.firstChild,e.domSize=s.childNodes.length;for(var A=m(r).createDocumentFragment(),C;C=s.firstChild;)A.appendChild(C);k(r,A,i)}function V(r,e,t,i,n){var s=m(r).createDocumentFragment();if(e.children!=null){var A=e.children;o(s,A,0,A.length,t,null,i)}e.dom=s.firstChild,e.domSize=s.childNodes.length,k(r,s,n)}function H(r,e,t,i,n){var s=e.tag,A=e.attrs,C=e.is;i=l(e)||i;var w=i?C?m(r).createElementNS(i,s,{is:C}):m(r).createElementNS(i,s):C?m(r).createElement(s,{is:C}):m(r).createElement(s);if(e.dom=w,A!=null&&Sr(e,A,i),k(r,w,n),!ie(e)&&e.children!=null){var T=e.children;o(w,T,0,T.length,t,null,i),e.tag==="select"&&A!=null&&Hr(e,A)}}function J(r,e){var t;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),t=r.state.view,t.$$reentrantLock$$!=null)return;t.$$reentrantLock$$=!0}else{if(r.state=void 0,t=r.tag,t.$$reentrantLock$$!=null)return;t.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(ce(r.state,r,e),r.attrs!=null&&ce(r.attrs,r,e),r.instance=f.normalize(q.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");t.$$reentrantLock$$=null}function F(r,e,t,i,n){J(e,t),e.instance!=null?(R(r,e.instance,t,i,n),e.dom=e.instance.dom,e.domSize=e.instance.domSize):e.domSize=0}function X(r,e,t,i,n,s){if(!(e===t||e==null&&t==null))if(e==null||e.length===0)o(r,t,0,t.length,i,n,s);else if(t==null||t.length===0)W(r,e,0,e.length);else{var A=e[0]!=null&&e[0].key!=null,C=t[0]!=null&&t[0].key!=null,w=0,T=0;if(!A)for(;T<e.length&&e[T]==null;)T++;if(!C)for(;w<t.length&&t[w]==null;)w++;if(A!==C)W(r,e,T,e.length),o(r,t,w,t.length,i,n,s);else if(C){for(var K=e.length-1,S=t.length-1,ae,Q,_,U,N,me;K>=T&&S>=w&&(U=e[K],N=t[S],U.key===N.key);)U!==N&&M(r,U,N,i,n,s),N.dom!=null&&(n=N.dom),K--,S--;for(;K>=T&&S>=w&&(Q=e[T],_=t[w],Q.key===_.key);)T++,w++,Q!==_&&M(r,Q,_,i,P(e,T,n),s);for(;K>=T&&S>=w&&!(w===S||Q.key!==N.key||U.key!==_.key);)me=P(e,T,n),B(r,U,me),U!==_&&M(r,U,_,i,me,s),++w<=--S&&B(r,Q,n),Q!==N&&M(r,Q,N,i,n,s),N.dom!=null&&(n=N.dom),T++,K--,U=e[K],N=t[S],Q=e[T],_=t[w];for(;K>=T&&S>=w&&U.key===N.key;)U!==N&&M(r,U,N,i,n,s),N.dom!=null&&(n=N.dom),K--,S--,U=e[K],N=t[S];if(w>S)W(r,e,T,K+1);else if(T>K)o(r,t,w,S+1,i,n,s);else{var Kr=n,er=S-w+1,te=new Array(er),he=0,I=0,pe=2147483647,ye=0,ae,ge;for(I=0;I<er;I++)te[I]=-1;for(I=S;I>=w;I--){ae==null&&(ae=E(e,T,K+1)),N=t[I];var ee=ae[N.key];ee!=null&&(pe=ee<pe?ee:-1,te[I-w]=ee,U=e[ee],e[ee]=null,U!==N&&M(r,U,N,i,n,s),N.dom!=null&&(n=N.dom),ye++)}if(n=Kr,ye!==K-T+1&&W(r,e,T,K+1),ye===0)o(r,t,w,S+1,i,n,s);else if(pe===-1)for(ge=L(te),he=ge.length-1,I=S;I>=w;I--)_=t[I],te[I-w]===-1?R(r,_,i,s,n):ge[he]===I-w?he--:B(r,_,n),_.dom!=null&&(n=t[I].dom);else for(I=S;I>=w;I--)_=t[I],te[I-w]===-1&&R(r,_,i,s,n),_.dom!=null&&(n=t[I].dom)}}else{var oe=e.length<t.length?e.length:t.length;for(w=w<T?w:T;w<oe;w++)Q=e[w],_=t[w],!(Q===_||Q==null&&_==null)&&(Q==null?R(r,_,i,s,P(e,w+1,n)):_==null?ne(r,Q):M(r,Q,_,i,P(e,w+1,n),s));e.length>oe&&W(r,e,w,e.length),t.length>oe&&o(r,t,w,t.length,i,n,s)}}}function M(r,e,t,i,n,s){var A=e.tag,C=t.tag;if(A===C&&e.is===t.is){if(t.state=e.state,t.events=e.events,Br(t,e))return;if(typeof A=="string")switch(t.attrs!=null&&se(t.attrs,t,i),A){case"#":G(e,t);break;case"<":$(r,e,t,s,n);break;case"[":x(r,e,t,i,n,s);break;default:d(e,t,i,s)}else z(r,e,t,i,n,s)}else ne(r,e),R(r,t,i,s,n)}function G(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function $(r,e,t,i,n){e.children!==t.children?(We(r,e),j(r,t,i,n)):(t.dom=e.dom,t.domSize=e.domSize)}function x(r,e,t,i,n,s){X(r,e.children,t.children,i,n,s);var A=0,C=t.children;if(t.dom=null,C!=null)for(var w=0;w<C.length;w++){var T=C[w];T!=null&&T.dom!=null&&(t.dom==null&&(t.dom=T.dom),A+=T.domSize||1)}t.domSize=A}function d(r,e,t,i){var n=e.dom=r.dom;i=l(e)||i,(r.attrs!=e.attrs||e.attrs!=null&&!h.get(e.attrs))&&Ur(e,r.attrs,e.attrs,i),ie(e)||X(n,r.children,e.children,t,null,i)}function z(r,e,t,i,n,s){if(t.instance=f.normalize(q.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");se(t.state,t,i),t.attrs!=null&&se(t.attrs,t,i),t.instance!=null?(e.instance==null?R(r,t.instance,i,s,n):M(r,e.instance,t.instance,i,n,s),t.dom=t.instance.dom,t.domSize=t.instance.domSize):(e.instance!=null&&ne(r,e.instance),t.domSize=0)}function E(r,e,t){for(var i=Object.create(null);e<t;e++){var n=r[e];if(n!=null){var s=n.key;s!=null&&(i[s]=e)}}return i}var D=[];function L(r){for(var e=[0],t=0,i=0,n=0,s=D.length=r.length,n=0;n<s;n++)D[n]=r[n];for(var n=0;n<s;++n)if(r[n]!==-1){var A=e[e.length-1];if(r[A]<r[n]){D[n]=A,e.push(n);continue}for(t=0,i=e.length-1;t<i;){var C=(t>>>1)+(i>>>1)+(t&i&1);r[e[C]]<r[n]?t=C+1:i=C}r[n]<r[e[t]]&&(t>0&&(D[n]=e[t-1]),e[t]=n)}for(t=e.length,i=e[t-1];t-- >0;)e[t]=i,i=D[i];return D.length=0,e}function P(r,e,t){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return t}function B(r,e,t){if(e.dom!=null){var i;if(e.domSize==null||e.domSize===1)i=e.dom;else{i=m(r).createDocumentFragment();for(var n of c(e))i.appendChild(n)}k(r,i,t)}}function k(r,e,t){t!=null?r.insertBefore(e,t):r.appendChild(e)}function ie(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var t=e[0].children;r.dom.innerHTML!==t&&(r.dom.innerHTML=t)}else if(e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function W(r,e,t,i){for(var n=t;n<i;n++){var s=e[n];s!=null&&ne(r,s)}}function Y(r,e,t,i){var n=e.state,s=q.call(t.onbeforeremove,e);if(s!=null){var A=g;for(var C of c(e))a.set(C,A);i.v++,Promise.resolve(s).finally(function(){v(e,n),Ge(r,e,i)})}}function Ge(r,e,t){--t.v===0&&(ue(e),We(r,e))}function ne(r,e){var t={v:1};typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"&&Y(r,e,e.state,t),e.attrs&&typeof e.attrs.onbeforeremove=="function"&&Y(r,e,e.attrs,t),Ge(r,e,t)}function We(r,e){if(e.dom!=null)if(e.domSize==null||e.domSize===1)r.removeChild(e.dom);else for(var t of c(e))r.removeChild(t)}function ue(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&q.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&q.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&ue(r.instance);else{r.events!=null&&(r.events._=null);var e=r.children;if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];i!=null&&ue(i)}}}function Sr(r,e,t){for(var i in e)fe(r,i,null,e[i],t)}function fe(r,e,t,i,n){if(!(e==="key"||i==null||Xe(e)||t===i&&!Vr(r,e)&&typeof i!="object")){if(e[0]==="o"&&e[1]==="n")return ke(r,e,i);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),i);else if(e==="style")Ze(r.dom,t,i);else if(Ye(r,e,n)){if(e==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+i||r.tag==="select"&&t!==null&&r.dom.value===""+i||r.tag==="option"&&t!==null&&r.dom.value===""+i)return;if(r.tag==="input"&&r.attrs.type==="file"&&""+i!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&e==="type"?r.dom.setAttribute(e,i):r.dom[e]=i}else typeof i=="boolean"?i?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,i)}}function Fr(r,e,t,i){if(!(e==="key"||t==null||Xe(e)))if(e[0]==="o"&&e[1]==="n")ke(r,e,void 0);else if(e==="style")Ze(r.dom,t,null);else if(Ye(r,e,i)&&e!=="className"&&e!=="title"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===O(r.dom)))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var n=e.indexOf(":");n!==-1&&(e=e.slice(n+1)),t!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function Hr(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var t=""+e.value;(r.dom.value!==t||r.dom.selectedIndex===-1)&&(r.dom.value=t)}"selectedIndex"in e&&fe(r,"selectedIndex",null,e.selectedIndex,void 0)}function Ur(r,e,t,i){var n;if(e!=null){e===t&&!h.has(t)&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var s in e)(n=e[s])!=null&&(t==null||t[s]==null)&&Fr(r,s,n,i)}if(t!=null)for(var s in t)fe(r,s,e&&e[s],t[s],i)}function Vr(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&(r.dom===O(r.dom)||r.tag==="option"&&r.dom.parentNode===O(r.dom))}function Xe(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Ye(r,e,t){return t===void 0&&(r.tag.indexOf("-")>-1||r.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}function Ze(r,e,t){if(e!==t)if(t==null)r.style="";else if(typeof t!="object")r.style=t;else if(e==null||typeof e!="object"){r.style="";for(var i in t){var n=t[i];n!=null&&(i.includes("-")?r.style.setProperty(i,String(n)):r.style[i]=String(n))}}else{for(var i in e)e[i]!=null&&t[i]==null&&(i.includes("-")?r.style.removeProperty(i):r.style[i]="");for(var i in t){var n=t[i];n!=null&&(n=String(n))!==String(e[i])&&(i.includes("-")?r.style.setProperty(i,n):r.style[i]=n)}}}function le(){this._=y}le.prototype=Object.create(null),le.prototype.handleEvent=function(r){var e=this["on"+r.type],t;typeof e=="function"?t=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r);var i=this;i._!=null&&(r.redraw!==!1&&(0,i._)(),t!=null&&typeof t.then=="function"&&Promise.resolve(t).then(function(){i._!=null&&r.redraw!==!1&&(0,i._)()})),t===!1&&(r.preventDefault(),r.stopPropagation())};function ke(r,e,t){if(r.events!=null){if(r.events._=y,r.events[e]===t)return;t!=null&&(typeof t=="function"||typeof t=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=t):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else t!=null&&(typeof t=="function"||typeof t=="object")&&(r.events=new le,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=t)}function ce(r,e,t){typeof r.oninit=="function"&&q.call(r.oninit,e),typeof r.oncreate=="function"&&t.push(q.bind(r.oncreate,e))}function se(r,e,t){typeof r.onupdate=="function"&&t.push(q.bind(r.onupdate,e))}function Br(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var t=q.call(r.attrs.onbeforeupdate,r,e);if(t!==void 0&&!t)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var t=q.call(r.state.onbeforeupdate,r,e);if(t!==void 0&&!t)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}var re;return function(r,e,t){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(re!=null&&r.contains(re))throw new TypeError("Node is currently being rendered to and thus is locked.");var i=y,n=re,s=[],A=O(r),C=r.namespaceURI;re=r,y=typeof t=="function"?t:void 0,g={};try{r.vnodes==null&&(r.textContent=""),e=f.normalizeChildren(Array.isArray(e)?e:[e]),X(r,r.vnodes,e,s,null,C==="http://www.w3.org/1999/xhtml"?void 0:C),r.vnodes=e,A!=null&&O(r)!==A&&typeof A.focus=="function"&&A.focus();for(var w=0;w<s.length;w++)s[w]()}finally{y=i,re=n}}},Te}var ze,hr;function $r(){return hr||(hr=1,ze=Xr()()),ze}var Me,pr;function Yr(){if(pr)return Me;pr=1;var f=Z();return Me=function(a,c,h){var u=[],y=!1,g=-1;function m(){for(g=0;g<u.length;g+=2)try{a(u[g],f(u[g+1]),l)}catch(q){h.error(q)}g=-1}function l(){y||(y=!0,c(function(){y=!1,m()}))}l.sync=m;function v(q,O){if(O!=null&&O.view==null&&typeof O!="function")throw new TypeError("m.mount expects a component, not a vnode.");var o=u.indexOf(q);o>=0&&(u.splice(o,2),o<=g&&(g-=2),a(q,[])),O!=null&&(u.push(q,O),a(q,f(O),l))}return{mount:v,redraw:l}},Me}var Ne,yr;function Ke(){if(yr)return Ne;yr=1;var f=$r();return Ne=Yr()(f,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Ne}var je,gr;function Dr(){return gr||(gr=1,je=function(f){if(Object.prototype.toString.call(f)!=="[object Object]")return"";var a=[];for(var c in f)h(c,f[c]);return a.join("&");function h(u,y){if(Array.isArray(y))for(var g=0;g<y.length;g++)h(u+"["+g+"]",y[g]);else if(Object.prototype.toString.call(y)==="[object Object]")for(var g in y)h(u+"["+g+"]",y[g]);else a.push(encodeURIComponent(u)+(y!=null&&y!==""?"="+encodeURIComponent(y):""))}}),je}var xe,wr;function Qe(){if(wr)return xe;wr=1;var f=Dr();return xe=function(a,c){if(/:([^\/\.-]+)(\.{3})?:/.test(a))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(c==null)return a;var h=a.indexOf("?"),u=a.indexOf("#"),y=u<0?a.length:u,g=h<0?y:h,m=a.slice(0,g),l={};Object.assign(l,c);var v=m.replace(/:([^\/\.-]+)(\.{3})?/g,function(j,V,H){return delete l[V],c[V]==null?j:H?c[V]:encodeURIComponent(String(c[V]))}),q=v.indexOf("?"),O=v.indexOf("#"),o=O<0?v.length:O,R=q<0?o:q,b=v.slice(0,R);h>=0&&(b+=a.slice(h,y)),q>=0&&(b+=(h<0?"?":"&")+v.slice(q,o));var p=f(l);return p&&(b+=(h<0&&q<0?"?":"&")+p),u>=0&&(b+=a.slice(u)),O>=0&&(b+=(u<0?"":"&")+v.slice(O)),b},xe}var $e,br;function Zr(){if(br)return $e;br=1;var f=Qe(),a=Be();return $e=function(c,h){function u(m){return new Promise(m)}function y(m,l){return new Promise(function(v,q){m=f(m,l.params);var O=l.method!=null?l.method.toUpperCase():"GET",o=l.body,R=(l.serialize==null||l.serialize===JSON.serialize)&&!(o instanceof c.FormData||o instanceof c.URLSearchParams),b=l.responseType||(typeof l.extract=="function"?"":"json"),p=new c.XMLHttpRequest,j=!1,V=!1,H=p,J,F=p.abort;p.abort=function(){j=!0,F.call(this)},p.open(O,m,l.async!==!1,typeof l.user=="string"?l.user:void 0,typeof l.password=="string"?l.password:void 0),R&&o!=null&&!g(l,"content-type")&&p.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof l.deserialize!="function"&&!g(l,"accept")&&p.setRequestHeader("Accept","application/json, text/*"),l.withCredentials&&(p.withCredentials=l.withCredentials),l.timeout&&(p.timeout=l.timeout),p.responseType=b;for(var X in l.headers)a.call(l.headers,X)&&p.setRequestHeader(X,l.headers[X]);p.onreadystatechange=function(M){if(!j&&M.target.readyState===4)try{var G=M.target.status>=200&&M.target.status<300||M.target.status===304||/^file:\/\//i.test(m),$=M.target.response,x;if(b==="json"){if(!M.target.responseType&&typeof l.extract!="function")try{$=JSON.parse(M.target.responseText)}catch{$=null}}else(!b||b==="text")&&$==null&&($=M.target.responseText);if(typeof l.extract=="function"?($=l.extract(M.target,l),G=!0):typeof l.deserialize=="function"&&($=l.deserialize($)),G){if(typeof l.type=="function")if(Array.isArray($))for(var d=0;d<$.length;d++)$[d]=new l.type($[d]);else $=new l.type($);v($)}else{var z=function(){try{x=M.target.responseText}catch{x=$}var E=new Error(x);E.code=M.target.status,E.response=$,q(E)};p.status===0?setTimeout(function(){V||z()}):z()}}catch(E){q(E)}},p.ontimeout=function(M){V=!0;var G=new Error("Request timed out");G.code=M.target.status,q(G)},typeof l.config=="function"&&(p=l.config(p,l,m)||p,p!==H&&(J=p.abort,p.abort=function(){j=!0,J.call(this)})),o==null?p.send():typeof l.serialize=="function"?p.send(l.serialize(o)):o instanceof c.FormData||o instanceof c.URLSearchParams?p.send(o):p.send(JSON.stringify(o))})}u.prototype=Promise.prototype,u.__proto__=Promise;function g(m,l){for(var v in m.headers)if(a.call(m.headers,v)&&v.toLowerCase()===l)return!0;return!1}return{request:function(m,l){typeof m!="string"?(l=m,m=m.url):l==null&&(l={});var v=y(m,l);if(l.background===!0)return v;var q=0;function O(){--q===0&&typeof h=="function"&&h()}return o(v);function o(R){var b=R.then;return R.constructor=u,R.then=function(){q++;var p=b.apply(R,arguments);return p.then(O,function(j){if(O(),q===0)throw j}),o(p)},R}}}},$e}var De,Rr;function kr(){if(Rr)return De;Rr=1;var f=Ke();return De=Zr()(typeof window<"u"?window:null,f.redraw),De}var Ie,qr;function Ir(){if(qr)return Ie;qr=1;var f=/%(?:[0-7]|(?!c[01]|e0%[89]|ed%[ab]|f0%8|f4%[9ab])(?:c|d|(?:e|f[0-4]%[89ab])[\da-f]%[89ab])[\da-f]%[89ab])[\da-f]/gi;return Ie=function(a){return String(a).replace(f,decodeURIComponent)},Ie}var _e,dr;function _r(){if(dr)return _e;dr=1;var f=Ir();return _e=function(a){if(a===""||a==null)return{};a.charAt(0)==="?"&&(a=a.slice(1));for(var c=a.split("&"),h={},u={},y=0;y<c.length;y++){var g=c[y].split("="),m=f(g[0]),l=g.length===2?f(g[1]):"";l==="true"?l=!0:l==="false"&&(l=!1);var v=m.split(/\]\[?|\[/),q=u;m.indexOf("[")>-1&&v.pop();for(var O=0;O<v.length;O++){var o=v[O],R=v[O+1],b=R==""||!isNaN(parseInt(R,10));if(o===""){var m=v.slice(0,O).join();h[m]==null&&(h[m]=Array.isArray(q)?q.length:0),o=h[m]++}else if(o==="__proto__")break;if(O===v.length-1)q[o]=l;else{var p=Object.getOwnPropertyDescriptor(q,o);p!=null&&(p=p.value),p==null&&(q[o]=p=b?[]:{}),q=p}}}return u},_e}var Le,Or;function Je(){if(Or)return Le;Or=1;var f=_r();return Le=function(a){var c=a.indexOf("?"),h=a.indexOf("#"),u=h<0?a.length:h,y=c<0?u:c,g=a.slice(0,y).replace(/\/{2,}/g,"/");return g?g[0]!=="/"&&(g="/"+g):g="/",{path:g,params:c<0?{}:f(a.slice(c+1,u))}},Le}var Se,Ar;function et(){if(Ar)return Se;Ar=1;var f=Je();return Se=function(a){var c=f(a),h=Object.keys(c.params),u=[],y=new RegExp("^"+c.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(g,m,l){return m==null?"\\"+g:(u.push({k:m,r:l==="..."}),l==="..."?"(.*)":l==="."?"([^/]+)\\.":"([^/]+)"+(l||""))})+"\\/?$");return function(g){for(var m=0;m<h.length;m++)if(c.params[h[m]]!==g.params[h[m]])return!1;if(!u.length)return y.test(g.path);var l=y.exec(g.path);if(l==null)return!1;for(var m=0;m<u.length;m++)g.params[u[m].k]=u[m].r?l[m+1]:decodeURIComponent(l[m+1]);return!0}},Se}var Fe,vr;function Lr(){if(vr)return Fe;vr=1;var f=Be(),a=/^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$/;return Fe=function(c,h){var u={};if(h!=null)for(var y in c)f.call(c,y)&&!a.test(y)&&h.indexOf(y)<0&&(u[y]=c[y]);else for(var y in c)f.call(c,y)&&!a.test(y)&&(u[y]=c[y]);return u},Fe}var He,Cr;function rt(){if(Cr)return He;Cr=1;var f=Z(),a=Nr(),c=Ir(),h=Qe(),u=Je(),y=et(),g=Lr();return He=function(m,l){var v=Promise.resolve(),q=!1,O=!1,o=!1,R,b,p,j,V,H,J,F,X={onremove:function(){O=o=!1,m.removeEventListener("popstate",$,!1)},view:function(){var d=f(V,H.key,H);return j?j.render(d):[d]}},M=x.SKIP={};function G(){q=!1;var d=m.location.hash;x.prefix[0]!=="#"&&(d=m.location.search+d,x.prefix[0]!=="?"&&(d=m.location.pathname+d,d[0]!=="/"&&(d="/"+d)));var z=c(d).slice(x.prefix.length),E=u(z);Object.assign(E.params,m.history.state);function D(P){console.error(P),x.set(p,null,{replace:!0})}L(0);function L(P){for(;P<b.length;P++)if(b[P].check(E)){var B=b[P].component,k=b[P].route,ie=B,W=F=function(Y){if(W===F){if(Y===M)return L(P+1);V=Y!=null&&(typeof Y.view=="function"||typeof Y=="function")?Y:"div",H=E.params,J=z,F=null,j=B.render?B:null,o?l.redraw():(o=!0,l.mount(R,X))}};B.view||typeof B=="function"?(B={},W(ie)):B.onmatch?v.then(function(){return B.onmatch(E.params,z,k)}).then(W,z===p?null:D):W();return}if(z===p)throw new Error("Could not resolve default route "+p+".");x.set(p,null,{replace:!0})}}function $(){q||(q=!0,setTimeout(G))}function x(d,z,E){if(!d)throw new TypeError("DOM element being rendered to does not exist.");if(b=Object.keys(E).map(function(L){if(L[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(L))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:L,component:E[L],check:y(L)}}),p=z,z!=null){var D=u(z);if(!b.some(function(L){return L.check(D)}))throw new ReferenceError("Default route doesn't match any known routes.")}R=d,m.addEventListener("popstate",$,!1),O=!0,G()}return x.set=function(d,z,E){if(F!=null&&(E=E||{},E.replace=!0),F=null,d=h(d,z),O){$();var D=E?E.state:null,L=E?E.title:null;E&&E.replace?m.history.replaceState(D,L,x.prefix+d):m.history.pushState(D,L,x.prefix+d)}else m.location.href=x.prefix+d},x.get=function(){return J},x.prefix="#!",x.Link={view:function(d){var z=a(d.attrs.selector||"a",g(d.attrs,["options","params","selector","onclick"]),d.children),E,D,L;return(z.attrs.disabled=!!z.attrs.disabled)?(z.attrs.href=null,z.attrs["aria-disabled"]="true"):(E=d.attrs.options,D=d.attrs.onclick,L=h(z.attrs.href,d.attrs.params),z.attrs.href=x.prefix+L,z.attrs.onclick=function(P){var B;typeof D=="function"?B=D.call(P.currentTarget,P):D==null||typeof D!="object"||typeof D.handleEvent=="function"&&D.handleEvent(P),B!==!1&&!P.defaultPrevented&&(P.button===0||P.which===0||P.which===1)&&(!P.currentTarget.target||P.currentTarget.target==="_self")&&!P.ctrlKey&&!P.metaKey&&!P.shiftKey&&!P.altKey&&(P.preventDefault(),P.redraw=!1,x.set(L,null,E))}),z}},x.param=function(d){return H&&d!=null?H[d]:H},x},He}var Ue,Er;function tt(){if(Er)return Ue;Er=1;var f=Ke();return Ue=rt()(typeof window<"u"?window:null,f),Ue}var Ve,Pr;function it(){if(Pr)return Ve;Pr=1;var f=Wr(),a=Ke(),c=kr(),h=tt(),u=function(){return f.apply(this,arguments)};return u.m=f,u.trust=f.trust,u.fragment=f.fragment,u.Fragment="[",u.mount=a.mount,u.route=h,u.render=$r(),u.redraw=a.redraw,u.request=c.request,u.parseQueryString=_r(),u.buildQueryString=Dr(),u.parsePathname=Je(),u.buildPathname=Qe(),u.vnode=Z(),u.censor=Lr(),u.domFor=xr(),Ve=u,Ve}var nt=it();const ut=Qr(nt);export{Qr as a,at as g,ut as m};
//# sourceMappingURL=mithril-CkNsZ0QC.js.map
